---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: quasar-app
  namespace: default
spec:
  interval: 1m0s
  releaseName: quasar-project
  chart:
    spec:
      chart: quasar-project
      reconcileStrategy: ChartVersion
      sourceRef:
        kind: HelmRepository
        namespace: flux-system
        name: ghcr-oci
  #      version: '>4.0.0'
  values:
    replicaCount: 2
    service:
      type: LoadBalancer
    image:
      repository: docker pull ghcr.io/maggnus/charts/quasar-project
      imagePullPolicy: Always
      tag: latest
      ports:
        - name: app
          containerPort: 9000
          protocol: TCP
      imagePullSecrets:
        - name: ghcr-auth
          namespace: flux-system


#image:
#  repository: nginx
#  pullPolicy: IfNotPresent
#  # Overrides the image tag whose default is the chart appVersion.
#  tag: ""
#
#imagePullSecrets: []
#nameOverride: ""
#fullnameOverride: ""